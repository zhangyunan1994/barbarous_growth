<h1> transaction </h1>

**Table of Contents**
<!-- TOC -->

- [关于事务](#关于事务)
    - [概念](#概念)
    - [特性](#特性)
- [提交和回滚](#提交和回滚)
- [保存点](#保存点)
- [参考书籍和资料](#参考书籍和资料)

<!-- /TOC -->

# 关于事务
## 概念
例如：在关系数据库中，一个事务可以是一条SQL语句，一组SQL语句或整个程序。
## 特性
事务是恢复和并发控制的基本单位。

事务应该具有4个属性：原子性、一致性、隔离性、持久性。这四个属性通常称为ACID特性。

- 原子性（atomicity）。一个事务是一个不可分割的工作单位，事务中包括的诸操作要么都做，要么都不做。
- 一致性（consistency）。事务必须是使数据库从一个一致性状态变到另一个一致性状态。一致性与原子性是密切相关的。
- 隔离性（isolation）。一个事务的执行不能被其他事务干扰。即一个事务内部的操作及使用的数据对并发的其他事务是隔离的，并发执行的各个事务之间不能互相干扰。
- 持久性（durability）。持久性也称永久性（permanence），指一个事务一旦提交，它对数据库中数据的改变就应该是永久性的。接下来的其他操作或故障不应该对其有任何影响。
# 提交和回滚

将一条或一组语句构建成一个事务。当所有语句全部成功完成，事务可以被提交。否则，如果其中某个语句遇到错误，那么事务将被回滚，就好像没有执行过任何语句一样。

默认情况下，MySQL数据库链接处于自动提交状态，也就是每一条都会当成一个事务进行操作。当我们需要将一组语句作为一个事务时，这时我们需要关闭它的自动提交功能。
# 保存点 

使用保存点(save point)，可以更好的控制事务的回滚操作。创建一个保存点意味着稍后只需返回到这个点，而非事务的开头。

# 参考书籍和资料
[事务 百度百科](https://baike.baidu.com/item/%E4%BA%8B%E5%8A%A1/5945882?fr=aladdin)

[事务 维基百科](https://zh.wikipedia.org/wiki/%E6%95%B0%E6%8D%AE%E5%BA%93%E4%BA%8B%E5%8A%A1)
